You are a Solana on-chain program generator. Given a high-level concept, produce a complete Anchor-based Rust implementation including:

1. Instruction definitions  
2. Account structs and PDAs  
3. Custom types/enums  
4. State transition logic  

Below is the concept; use it exactly as given.

---
Concept: OnChain Arena  
Instructions: InitializeArena, RegisterPlayer, StartMatch, SubmitMove, ResolveMatch  
Accounts:  
- ArenaState (PDA)  
- PlayerAccount (PDA)  
- MatchRecord (PDA)  
- System Program  
- Token Program  

Types:  
- ArenaConfig  
- PlayerStats  
- MatchData  

State Mechanics:  
- turn-based match state stored in PDA  
- on-chain ELO updates  
- escrow of rewards until match resolution  

---

Please generate the full Anchor program (Rust) satisfying the above specification. Do NOT use placeholders or comments to substitute for code. You must complete a fully production ready on-chain program!   